{"ast":null,"code":"import { FILTER_BY_DIETS, FILTER_CREATED, GET_ALL_RECIPES, GET_DIETS, GET_NAME_RECIPES, ORDER_BY_NAME, ORDER_BY_SCORE, POST_RECIPE } from \"../actions/types\";\nconst initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: []\n};\n\nfunction recipes() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let payload = arguments.length > 2 ? arguments[2] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_RECIPES:\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case GET_NAME_RECIPES:\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case GET_DIETS:\n      return { ...state,\n        diets: action.payload\n      };\n\n    case POST_RECIPE:\n      return { ...state\n      };\n\n    case FILTER_BY_DIETS:\n      const dietFiltered = action.payload !== 'all' ? state.allRecipes.filter(recipe => recipe.diets.includes(action.payload.toLowerCase())) : state.allRecipes;\n      return { ...state,\n        recipes: dietFiltered\n      };\n\n    case FILTER_CREATED:\n      const createdFilter = action.payload === 'created' ? state.allRecipes.filter(recipe => recipe.createdInDb) : state.allRecipes.filter(recipe => !recipe.createdInDb);\n      return { ...state,\n        recipes: action.payload === 'all' ? state.allRecipes : createdFilter\n      };\n\n    case ORDER_BY_NAME:\n      const sortedArr = action.payload === 'AZ' ? state.allRecipes.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (a.name < b.name) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.allRecipes.sort(function (a, b) {\n        if (a.name < b.name) {\n          return 1;\n        }\n\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArr\n      };\n\n    case ORDER_BY_SCORE:\n      const sortedArrByPoints = action.payload === 'LESS' ? state.allRecipes.sort(function (a, b) {\n        if (a.score > b.score) {\n          return 1;\n        }\n\n        if (a.score < b.score) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.allRecipes.sort(function (a, b) {\n        if (a.score < b.score) {\n          return 1;\n        }\n\n        if (a.score > b.score) {\n          return -1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArrByPoints\n      };\n\n    default:\n      return state;\n  }\n}\n\n;\nexport default recipes;","map":{"version":3,"names":["FILTER_BY_DIETS","FILTER_CREATED","GET_ALL_RECIPES","GET_DIETS","GET_NAME_RECIPES","ORDER_BY_NAME","ORDER_BY_SCORE","POST_RECIPE","initialState","recipes","allRecipes","diets","state","action","payload","type","dietFiltered","filter","recipe","includes","toLowerCase","createdFilter","createdInDb","sortedArr","sort","a","b","name","sortedArrByPoints","score"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/redux/reducers/recipes.js"],"sourcesContent":["import { FILTER_BY_DIETS, FILTER_CREATED, GET_ALL_RECIPES, GET_DIETS, GET_NAME_RECIPES, ORDER_BY_NAME, ORDER_BY_SCORE, POST_RECIPE } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  recipes : [],\r\n  allRecipes : [],\r\n  diets : [],\r\n}\r\n\r\nfunction recipes(state=initialState, action, payload){\r\n  switch(action.type) {\r\n    case GET_ALL_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload,\r\n      }\r\n\r\n    case GET_NAME_RECIPES:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n      }\r\n    \r\n    case GET_DIETS:\r\n      return {\r\n        ...state,\r\n        diets: action.payload,\r\n      }\r\n\r\n    case POST_RECIPE:\r\n      return {\r\n        ...state,\r\n      }\r\n\r\n    case FILTER_BY_DIETS:\r\n      const dietFiltered = action.payload !== 'all' ? state.allRecipes.filter(recipe => recipe.diets.includes(action.payload.toLowerCase())) : state.allRecipes;\r\n      return {\r\n        ...state,\r\n        recipes: dietFiltered,\r\n      }\r\n\r\n    case FILTER_CREATED:\r\n      const createdFilter = action.payload === 'created' ? state.allRecipes.filter(recipe => recipe.createdInDb) : state.allRecipes.filter(recipe => !recipe.createdInDb);\r\n      return {\r\n        ...state,\r\n        recipes: action.payload === 'all' ? state.allRecipes : createdFilter\r\n      }\r\n\r\n    case ORDER_BY_NAME:\r\n      const sortedArr = action.payload === 'AZ' ? state.allRecipes.sort(function (a,b){\r\n        if (a.name > b.name) {\r\n          return 1;\r\n        }\r\n        if (a.name < b.name) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      }) : state.allRecipes.sort(function (a,b){\r\n        if (a.name < b.name) {\r\n          return 1;\r\n        }\r\n        if (a.name > b.name) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n      return {\r\n        ...state,\r\n        recipes: sortedArr\r\n      }\r\n    \r\n    case ORDER_BY_SCORE:\r\n      const sortedArrByPoints = action.payload === 'LESS' ? state.allRecipes.sort(function (a,b){\r\n        if (a.score > b.score) {\r\n          return 1;\r\n        }\r\n        if (a.score < b.score) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      }) : state.allRecipes.sort(function (a,b){\r\n        if (a.score < b.score) {\r\n          return 1;\r\n        }\r\n        if (a.score > b.score) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n      return {\r\n        ...state,\r\n        recipes: sortedArrByPoints\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n  \r\n};\r\n\r\nexport default recipes;"],"mappings":"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"},"metadata":{},"sourceType":"module"}