{"ast":null,"code":"import _slicedToArray from\"C:/Users/Maxim/Desktop/FreshCook-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{login}from\"../../redux/actions/auth\";import loginStyles from\"./Login.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useSelector=useSelector(function(state){return state.auth;}),isLoggedIn=_useSelector.isLoggedIn;var _useSelector2=useSelector(function(state){return state.message;}),message=_useSelector2.message;var onChangeUsername=function onChangeUsername(e){var username=e.target.value;setUsername(username);};var onChangePassword=function onChangePassword(e){var password=e.target.value;setPassword(password);};var handleLogin=function handleLogin(e){e.preventDefault();setLoading(true);dispatch(login(username,password)).then(function(){navigate(\"/home\");window.location.reload();}).catch(function(){setLoading(false);});};if(isLoggedIn){return navigate(\"/profile\");}return/*#__PURE__*/_jsx(\"div\",{className:loginStyles.loginBody,children:/*#__PURE__*/_jsxs(\"form\",{className:loginStyles.loginForm,onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"div\",{className:loginStyles.loginTitle,children:\"Welcome\"}),/*#__PURE__*/_jsx(\"div\",{className:loginStyles.loginSubtitle,children:\"Please Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:loginStyles.loginInputContainerIc1,children:[/*#__PURE__*/_jsx(\"input\",{id:\"username\",className:loginStyles.loginInput,type:\"text\",name:\"username\",value:username,onChange:onChangeUsername,placeholder:\"Username\",autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"div\",{className:loginStyles.loginCut})]}),/*#__PURE__*/_jsxs(\"div\",{className:loginStyles.loginInputContainerIc2,children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",className:loginStyles.loginInput,type:\"password\",name:\"password\",value:password,onChange:onChangePassword,placeholder:\"Password\",autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"div\",{className:loginStyles.loginCut})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"text\",className:loginStyles.loginSubmit,disabled:loading,children:[loading&&/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign In\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{role:\"alert\",children:message})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useNavigate","login","loginStyles","Login","props","navigate","dispatch","username","setUsername","password","setPassword","loading","setLoading","state","auth","isLoggedIn","message","onChangeUsername","e","target","value","onChangePassword","handleLogin","preventDefault","then","window","location","reload","catch","loginBody","loginForm","loginTitle","loginSubtitle","loginInputContainerIc1","loginInput","loginCut","loginInputContainerIc2","loginSubmit"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/pages/Login/Login.component.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { login } from \"../../redux/actions/auth\";\r\n\r\nimport loginStyles from \"./Login.module.css\";\r\n\r\nconst Login = (props) => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { isLoggedIn } = useSelector((state) => state.auth);\r\n  const { message } = useSelector((state) => state.message);\r\n\r\n  const onChangeUsername = (e) => {\r\n    const username = e.target.value;\r\n    setUsername(username);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    const password = e.target.value;\r\n    setPassword(password);\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    dispatch(login(username, password))\r\n      .then(() => {\r\n        navigate(\"/home\");\r\n        window.location.reload();\r\n      })\r\n      .catch(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  if (isLoggedIn) {\r\n    return navigate(\"/profile\");\r\n  }\r\n\r\n  return (\r\n    <div className={loginStyles.loginBody}>\r\n      <form className={loginStyles.loginForm} onSubmit={handleLogin}>\r\n        <div className={loginStyles.loginTitle}>Welcome</div>\r\n        <div className={loginStyles.loginSubtitle}>Please Login</div>\r\n        <div className={loginStyles.loginInputContainerIc1}>\r\n          <input\r\n            id=\"username\"\r\n            className={loginStyles.loginInput}\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={onChangeUsername}\r\n            placeholder=\"Username\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <div className={loginStyles.loginCut}></div>\r\n        </div>\r\n        <div className={loginStyles.loginInputContainerIc2}>\r\n          <input\r\n            id=\"password\"\r\n            className={loginStyles.loginInput}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={onChangePassword}\r\n            placeholder=\"Password\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <div className={loginStyles.loginCut}></div>\r\n        </div>\r\n        <button\r\n          type=\"text\"\r\n          className={loginStyles.loginSubmit}\r\n          disabled={loading}\r\n        >\r\n          {loading && <span></span>}\r\n          <span>Sign In</span>\r\n        </button>\r\n        {message && (\r\n          <div>\r\n            <div role=\"alert\">{message}</div>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}