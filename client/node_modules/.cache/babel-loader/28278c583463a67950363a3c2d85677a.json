{"ast":null,"code":"import getTokenData from \"../../services/getTokenData\";\nimport { REGISTER_SUCCESS, REGISTER_FAIL, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, REFRESH_TOKEN } from \"../actions/types\";\nconst clientSessionStorage = JSON.parse(sessionStorage.getItem(\"user\"));\nconst user = getTokenData(clientSessionStorage === null || clientSessionStorage === void 0 ? void 0 : clientSessionStorage.accessToken);\nconst initialState = user ? {\n  isLoggedIn: true,\n  user\n} : {\n  isLoggedIn: false,\n  user: null\n};\nexport default function auth() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n      return { ...state,\n        isLoggedIn: false\n      };\n\n    case REGISTER_FAIL:\n      return { ...state,\n        isLoggedIn: false\n      };\n\n    case LOGIN_SUCCESS:\n      return { ...state,\n        isLoggedIn: true,\n        user: payload.user\n      };\n\n    case LOGIN_FAIL:\n      return { ...state,\n        isLoggedIn: false,\n        user: null\n      };\n\n    case LOGOUT:\n      return { ...state,\n        isLoggedIn: false,\n        user: null\n      };\n\n    case REFRESH_TOKEN:\n      return { ...state,\n        user: { ...user,\n          accessToken: payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["getTokenData","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","REFRESH_TOKEN","clientSessionStorage","JSON","parse","sessionStorage","getItem","user","accessToken","initialState","isLoggedIn","auth","state","action","type","payload"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/redux/reducers/auth.js"],"sourcesContent":["import getTokenData from \"../../services/getTokenData\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  REFRESH_TOKEN,\r\n} from \"../actions/types\";\r\n\r\nconst clientSessionStorage = JSON.parse(sessionStorage.getItem(\"user\"));\r\nconst user = getTokenData(clientSessionStorage?.accessToken);\r\n\r\nconst initialState = user\r\n  ? { isLoggedIn: true, user }\r\n  : { isLoggedIn: false, user: null };\r\n\r\nexport default function auth(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n      };\r\n\r\n    case REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n      };\r\n\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        user: payload.user,\r\n      };\r\n\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null,\r\n      };\r\n\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null,\r\n      };\r\n\r\n    case REFRESH_TOKEN:\r\n      return {\r\n        ...state,\r\n        user: { ...user, accessToken: payload },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,6BAAzB;AACA,SACEC,gBADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,UAJF,EAKEC,MALF,EAMEC,aANF,QAOO,kBAPP;AASA,MAAMC,oBAAoB,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAA7B;AACA,MAAMC,IAAI,GAAGZ,YAAY,CAACO,oBAAD,aAACA,oBAAD,uBAACA,oBAAoB,CAAEM,WAAvB,CAAzB;AAEA,MAAMC,YAAY,GAAGF,IAAI,GACrB;EAAEG,UAAU,EAAE,IAAd;EAAoBH;AAApB,CADqB,GAErB;EAAEG,UAAU,EAAE,KAAd;EAAqBH,IAAI,EAAE;AAA3B,CAFJ;AAIA,eAAe,SAASI,IAAT,GAA4C;EAAA,IAA9BC,KAA8B,uEAAtBH,YAAsB;EAAA,IAARI,MAAQ;EACzD,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EAEA,QAAQC,IAAR;IACE,KAAKlB,gBAAL;MACE,OAAO,EACL,GAAGgB,KADE;QAELF,UAAU,EAAE;MAFP,CAAP;;IAKF,KAAKb,aAAL;MACE,OAAO,EACL,GAAGe,KADE;QAELF,UAAU,EAAE;MAFP,CAAP;;IAKF,KAAKZ,aAAL;MACE,OAAO,EACL,GAAGc,KADE;QAELF,UAAU,EAAE,IAFP;QAGLH,IAAI,EAAEQ,OAAO,CAACR;MAHT,CAAP;;IAMF,KAAKR,UAAL;MACE,OAAO,EACL,GAAGa,KADE;QAELF,UAAU,EAAE,KAFP;QAGLH,IAAI,EAAE;MAHD,CAAP;;IAMF,KAAKP,MAAL;MACE,OAAO,EACL,GAAGY,KADE;QAELF,UAAU,EAAE,KAFP;QAGLH,IAAI,EAAE;MAHD,CAAP;;IAMF,KAAKN,aAAL;MACE,OAAO,EACL,GAAGW,KADE;QAELL,IAAI,EAAE,EAAE,GAAGA,IAAL;UAAWC,WAAW,EAAEO;QAAxB;MAFD,CAAP;;IAKF;MACE,OAAOH,KAAP;EAzCJ;AA2CD"},"metadata":{},"sourceType":"module"}