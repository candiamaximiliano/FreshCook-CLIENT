{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maxim\\\\Desktop\\\\FreshCook-app\\\\client\\\\src\\\\pages\\\\CreateRecipe\\\\RecipeCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { postRecipe, getDiets } from \"../../redux/actions/recipes\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport newRecipeStyles from \"./RecipeCreate.module.css\";\nimport { validateName } from \"../../helpers/regex\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function validate(input) {\n  let errors = {};\n  input.name ? errors.name = \"\" : errors.name = \"You must name the recipe\";\n  input.summary ? errors.summary = \"\" : errors.summary = \"You must provide a summary\";\n  input.diets.length < 1 ? errors.diets = \"Choose at least one diet\" : errors.diets = \"\";\n\n  if (!input.image.includes(\"https://\") && !input.image.includes(\"http://\")) {\n    errors.image = \"This isn't a valid image address\";\n  } else {\n    errors.image = \"\";\n  } // if (input.score < 1 || input.score > 100) {\n  //   errors.score = \"Number required. Must be a number between 1-100\";\n  // }\n  // if (input.healthScore < 1 || input.healthScore > 100) {\n  //   errors.healthScore = \"Number required. Must be a number between 1-100\";\n  // }\n\n\n  return errors;\n}\nexport default function RecipeCreate() {\n  _s();\n\n  var _input$stepByStep;\n\n  const dispatch = useDispatch();\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const diets = useSelector(state => state.recipes.diets);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [input, setInput] = useState({\n    name: \"\",\n    image: \"\",\n    summary: \"\",\n    score: \"\",\n    healthScore: \"\",\n    step: \"\",\n    stepByStep: [],\n    vegan: \"false\",\n    vegetarian: \"false\",\n    glutenFree: \"false\",\n    diets: []\n  });\n\n  const handleChange = e => {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleCheck = e => {\n    if (e.target.checked) {\n      setInput({ ...input,\n        diets: [...input.diets, e.target.value]\n      });\n    } else {\n      const diets = input.diets.filter(diet => {\n        return diet !== e.target.value;\n      });\n      setInput({ ...input,\n        diets: diets\n      });\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (input.name && input.image && input.summary && input.score && input.healthScore && input.stepByStep && input.diets) {\n      dispatch(postRecipe(input));\n      setSuccess(true);\n      alert(\"Recipe created correctly\");\n      setErrors(\"\");\n      setInput({\n        name: \"\",\n        image: \"\",\n        summary: \"\",\n        score: \"\",\n        healthScore: \"\",\n        step: \"\",\n        stepByStep: [],\n        vegan: \"false\",\n        vegetarian: \"false\",\n        glutenFree: \"false\",\n        diets: []\n      });\n    } else {\n      // alert(\"DATA REQUIRED\");\n      setSuccess(false);\n    }\n  };\n\n  useEffect(() => {\n    dispatch(getDiets());\n  }, [dispatch]); // Cargar imagen de tipo File\n\n  const [file, setFile] = useState();\n  const [format, setFormat] = useState(\"\");\n\n  const saveFile = e => {\n    var _e$target$files$;\n\n    setFile(e.target.files[0]);\n    var formatImage = (_e$target$files$ = e.target.files[0]) === null || _e$target$files$ === void 0 ? void 0 : _e$target$files$.name.split(\".\");\n    setFormat(formatImage[(formatImage === null || formatImage === void 0 ? void 0 : formatImage.length) - 1]);\n  };\n\n  const uploadUserFile = async e => {\n    const code = uuidv4(); // console.log(code)\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"format\", format);\n\n    try {\n      const res = await axios.post(`http://localhost:3001/upload/static/${code}.${format}`, formData);\n      console.log(res);\n      setInput({ ...input,\n        [e.target.name]: code + \".\" + format\n      });\n      alert(\"Imagen cargada con Exito\", \"\", \"success\");\n    } catch (ex) {\n      console.log(ex);\n    }\n  }; // const [addSteps, setAddSteps] = useState([1]);\n\n\n  let i = 0; // const addStep = () => {\n  //   i = i + 1;\n  //   setAddSteps([...addSteps, i]);\n  //   console.log(addSteps);\n  // };\n\n  const inputStep = useRef();\n\n  const addStep = () => {\n    i = i + 1;\n    setInput({ ...input,\n      stepByStep: [...input.stepByStep, inputStep.current.defaultValue]\n    });\n  };\n\n  const deleteStep = value => {\n    let index = input.stepByStep.indexOf(value);\n    input.stepByStep.splice(index, 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: newRecipeStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: newRecipeStyles.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: newRecipeStyles.title,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: currentUser.username.charAt(0).toUpperCase() + currentUser.username.slice(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), \" \", \"make your own recipe!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      className: newRecipeStyles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Name\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/x-png,image/jpeg\",\n          className: newRecipeStyles.input,\n          name: \"image\",\n          placeholder: \"Image\",\n          onChange: e => {\n            saveFile(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          name: \"imagen\",\n          onClick: e => uploadUserFile(e),\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), errors.image && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"text-area\",\n          value: input.summary,\n          name: \"summary\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Write a summary\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), errors.summary && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"range\",\n          min: \"0\",\n          max: \"100\",\n          step: \"1\",\n          value: input.score,\n          name: \"score\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Score\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: input.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), errors.score && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"range\",\n          min: \"0\",\n          max: \"100\",\n          step: \"1\",\n          value: input.healthScore,\n          name: \"healthScore\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Health score\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: input.healthScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), errors.healthScore && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.healthScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Instruccions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputStep,\n          className: newRecipeStyles.input,\n          type: \"text\",\n          value: input.step,\n          name: \"step\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Write instruction\",\n          autoComplete: \"off\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addStep,\n          children: \"Add instruction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: (_input$stepByStep = input.stepByStep) === null || _input$stepByStep === void 0 ? void 0 : _input$stepByStep.map((s, index) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: s\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: s => deleteStep,\n                children: \"x\"\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this), console.log(s)]\n            }, void 0, true);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), errors.stepByStep && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.stepByStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Vegan:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"vegan\",\n          rows: \"5\",\n          onChange: e => {\n            handleChange(e);\n          },\n          className: newRecipeStyles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: false,\n            className: newRecipeStyles.optionSelect,\n            children: \"False\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: true,\n            className: newRecipeStyles.optionSelect,\n            children: \"True\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Vegetarian:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"vegetarian\",\n          onChange: e => {\n            handleChange(e);\n          },\n          className: newRecipeStyles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: false,\n            className: newRecipeStyles.optionSelect,\n            children: \"False\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: true,\n            className: newRecipeStyles.optionSelect,\n            children: \"True\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Gluten Free:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"glutenFree\",\n          onChange: e => {\n            handleChange(e);\n          },\n          className: newRecipeStyles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: false,\n            className: newRecipeStyles.optionSelect,\n            children: \"False\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: true,\n            className: newRecipeStyles.optionSelect,\n            children: \"True\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Diets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.checkboxContainer,\n        children: diets === null || diets === void 0 ? void 0 : diets.map(diet => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: newRecipeStyles.checkbox,\n            type: \"checkbox\",\n            name: diet.name,\n            value: diet.name,\n            onChange: e => {\n              handleCheck(e);\n            }\n          }, diet.id + \"diet\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), diet.name.charAt(0).toUpperCase() + diet.name.slice(1)]\n        }, diet.id + \"label\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: newRecipeStyles.button,\n        type: \"submit\",\n        children: \"Create Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: newRecipeStyles.button,\n          children: \"Back To Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), success ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: newRecipeStyles.message,\n      children: \"Created Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }, this) : null, Object.keys(errors).length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: newRecipeStyles.message,\n      children: \"Something went wrong!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeCreate, \"28r23Nwm/0JfF3imjOsJNEdPPjU=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = RecipeCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeCreate\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","Link","postRecipe","getDiets","v4","uuidv4","newRecipeStyles","validateName","axios","validate","input","errors","name","summary","diets","length","image","includes","RecipeCreate","dispatch","user","currentUser","state","auth","recipes","setErrors","success","setSuccess","setInput","score","healthScore","step","stepByStep","vegan","vegetarian","glutenFree","handleChange","e","preventDefault","target","value","handleCheck","checked","filter","diet","handleSubmit","alert","file","setFile","format","setFormat","saveFile","files","formatImage","split","uploadUserFile","code","formData","FormData","append","res","post","console","log","ex","i","inputStep","addStep","current","defaultValue","deleteStep","index","indexOf","splice","container","header","title","username","charAt","toUpperCase","slice","form","inputContainer","map","s","select","optionSelect","checkboxContainer","checkbox","id","button","message","Object","keys"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/pages/CreateRecipe/RecipeCreate.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { postRecipe, getDiets } from \"../../redux/actions/recipes\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport newRecipeStyles from \"./RecipeCreate.module.css\";\r\nimport { validateName } from \"../../helpers/regex\";\r\nimport axios from \"axios\";\r\n\r\nexport function validate(input) {\r\n  let errors = {};\r\n\r\n  input.name ? (errors.name = \"\") : (errors.name = \"You must name the recipe\");\r\n\r\n  input.summary\r\n    ? (errors.summary = \"\")\r\n    : (errors.summary = \"You must provide a summary\");\r\n\r\n  input.diets.length < 1\r\n    ? (errors.diets = \"Choose at least one diet\")\r\n    : (errors.diets = \"\");\r\n\r\n  if (!input.image.includes(\"https://\") && !input.image.includes(\"http://\")) {\r\n    errors.image = \"This isn't a valid image address\";\r\n  } else {\r\n    errors.image = \"\";\r\n  }\r\n\r\n  // if (input.score < 1 || input.score > 100) {\r\n  //   errors.score = \"Number required. Must be a number between 1-100\";\r\n  // }\r\n  // if (input.healthScore < 1 || input.healthScore > 100) {\r\n  //   errors.healthScore = \"Number required. Must be a number between 1-100\";\r\n  // }\r\n\r\n  return errors;\r\n}\r\n\r\nexport default function RecipeCreate() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { user: currentUser } = useSelector((state) => state.auth);\r\n  const diets = useSelector((state) => state.recipes.diets);\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [success, setSuccess] = useState(false);\r\n  const [input, setInput] = useState({\r\n    name: \"\",\r\n    image: \"\",\r\n    summary: \"\",\r\n    score: \"\",\r\n    healthScore: \"\",\r\n    step: \"\",\r\n    stepByStep: [],\r\n    vegan: \"false\",\r\n    vegetarian: \"false\",\r\n    glutenFree: \"false\",\r\n    diets: [],\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    setInput({\r\n      ...input,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    setErrors(\r\n      validate({\r\n        ...input,\r\n        [e.target.name]: e.target.value,\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleCheck = (e) => {\r\n    if (e.target.checked) {\r\n      setInput({\r\n        ...input,\r\n        diets: [...input.diets, e.target.value],\r\n      });\r\n    } else {\r\n      const diets = input.diets.filter((diet) => {\r\n        return diet !== e.target.value;\r\n      });\r\n      setInput({\r\n        ...input,\r\n        diets: diets,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      input.name &&\r\n      input.image &&\r\n      input.summary &&\r\n      input.score &&\r\n      input.healthScore &&\r\n      input.stepByStep &&\r\n      input.diets\r\n    ) {\r\n      dispatch(postRecipe(input));\r\n      setSuccess(true);\r\n      alert(\"Recipe created correctly\");\r\n      setErrors(\"\");\r\n      setInput({\r\n        name: \"\",\r\n        image: \"\",\r\n        summary: \"\",\r\n        score: \"\",\r\n        healthScore: \"\",\r\n        step: \"\",\r\n        stepByStep: [],\r\n        vegan: \"false\",\r\n        vegetarian: \"false\",\r\n        glutenFree: \"false\",\r\n        diets: [],\r\n      });\r\n    } else {\r\n      // alert(\"DATA REQUIRED\");\r\n      setSuccess(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getDiets());\r\n  }, [dispatch]);\r\n\r\n  // Cargar imagen de tipo File\r\n  const [file, setFile] = useState();\r\n  const [format, setFormat] = useState(\"\");\r\n\r\n  const saveFile = (e) => {\r\n    setFile(e.target.files[0]);\r\n    var formatImage = e.target.files[0]?.name.split(\".\");\r\n    setFormat(formatImage[formatImage?.length - 1]);\r\n  };\r\n\r\n  const uploadUserFile = async (e) => {\r\n    const code = uuidv4();\r\n    // console.log(code)\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"format\", format);\r\n    try {\r\n      const res = await axios.post(\r\n        `http://localhost:3001/upload/static/${code}.${format}`,\r\n        formData\r\n      );\r\n      console.log(res);\r\n      setInput({\r\n        ...input,\r\n        [e.target.name]: code + \".\" + format,\r\n      });\r\n      alert(\"Imagen cargada con Exito\", \"\", \"success\");\r\n    } catch (ex) {\r\n      console.log(ex);\r\n    }\r\n  };\r\n\r\n  // const [addSteps, setAddSteps] = useState([1]);\r\n\r\n  let i = 0;\r\n  // const addStep = () => {\r\n  //   i = i + 1;\r\n  //   setAddSteps([...addSteps, i]);\r\n  //   console.log(addSteps);\r\n  // };\r\n\r\n  const inputStep = useRef();\r\n\r\n  const addStep = () => {\r\n    i = i + 1;\r\n    setInput({\r\n      ...input,\r\n      stepByStep: [...input.stepByStep, inputStep.current.defaultValue],\r\n    });\r\n  };\r\n\r\n  const deleteStep = (value) => {\r\n    let index = input.stepByStep.indexOf(value);\r\n    input.stepByStep.splice(index, 1);\r\n  };\r\n\r\n  return (\r\n    <div className={newRecipeStyles.container}>\r\n      <header className={newRecipeStyles.header}>\r\n        <h1 className={newRecipeStyles.title}>\r\n          <strong>\r\n            {currentUser.username.charAt(0).toUpperCase() +\r\n              currentUser.username.slice(1)}\r\n          </strong>{\" \"}\r\n          make your own recipe!\r\n        </h1>\r\n      </header>\r\n      <form\r\n        onSubmit={(e) => {\r\n          handleSubmit(e);\r\n        }}\r\n        className={newRecipeStyles.form}\r\n      >\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"text\"\r\n            value={input.name}\r\n            name=\"name\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Name\"\r\n            autoComplete=\"off\"\r\n          />\r\n          {errors.name && <p>{errors.name}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/x-png,image/jpeg\"\r\n            className={newRecipeStyles.input}\r\n            name=\"image\"\r\n            placeholder=\"Image\"\r\n            onChange={(e) => {\r\n              saveFile(e);\r\n            }}\r\n          />{\" \"}\r\n          <button name=\"imagen\" onClick={(e) => uploadUserFile(e)}>\r\n            Upload\r\n          </button>\r\n          {errors.image && <p>{errors.image}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"text-area\"\r\n            value={input.summary}\r\n            name=\"summary\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Write a summary\"\r\n            autoComplete=\"off\"\r\n          />\r\n          {errors.summary && <p>{errors.summary}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            step=\"1\"\r\n            value={input.score}\r\n            name=\"score\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Score\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <span>{input.score}</span>\r\n          {errors.score && <p>{errors.score}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            step=\"1\"\r\n            value={input.healthScore}\r\n            name=\"healthScore\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Health score\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <span>{input.healthScore}</span>\r\n          {errors.healthScore && <p>{errors.healthScore}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <h3>Instruccions:</h3>\r\n          <input\r\n            key={i}\r\n            ref={inputStep}\r\n            className={newRecipeStyles.input}\r\n            type=\"text\"\r\n            value={input.step}\r\n            name=\"step\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Write instruction\"\r\n            autoComplete=\"off\"\r\n          />{\" \"}\r\n          <button onClick={addStep}>Add instruction</button>\r\n          <ol>\r\n            {input.stepByStep?.map((s, index) => {\r\n              return (\r\n                <>\r\n                  <li key={index}>{s}</li>\r\n                  <button key={index} onClick={(s) => deleteStep}>\r\n                    x\r\n                  </button>\r\n                  {console.log(s)}\r\n                </>\r\n              );\r\n            })}\r\n          </ol>\r\n          {errors.stepByStep && <p>{errors.stepByStep}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <label>Vegan:</label>\r\n          <select\r\n            name=\"vegan\"\r\n            rows=\"5\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            className={newRecipeStyles.select}\r\n          >\r\n            <option value={false} className={newRecipeStyles.optionSelect}>\r\n              False\r\n            </option>\r\n            <option value={true} className={newRecipeStyles.optionSelect}>\r\n              True\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <label>Vegetarian:</label>\r\n          <select\r\n            name=\"vegetarian\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            className={newRecipeStyles.select}\r\n          >\r\n            <option value={false} className={newRecipeStyles.optionSelect}>\r\n              False\r\n            </option>\r\n            <option value={true} className={newRecipeStyles.optionSelect}>\r\n              True\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <label>Gluten Free:</label>\r\n          <select\r\n            name=\"glutenFree\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            className={newRecipeStyles.select}\r\n          >\r\n            <option value={false} className={newRecipeStyles.optionSelect}>\r\n              False\r\n            </option>\r\n            <option value={true} className={newRecipeStyles.optionSelect}>\r\n              True\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <label>Diets</label>\r\n        <div className={newRecipeStyles.checkboxContainer}>\r\n          {diets?.map((diet) => (\r\n            <label key={diet.id + \"label\"}>\r\n              <input\r\n                className={newRecipeStyles.checkbox}\r\n                type=\"checkbox\"\r\n                name={diet.name}\r\n                value={diet.name}\r\n                key={diet.id + \"diet\"}\r\n                onChange={(e) => {\r\n                  handleCheck(e);\r\n                }}\r\n              />\r\n              {diet.name.charAt(0).toUpperCase() + diet.name.slice(1)}\r\n            </label>\r\n          ))}\r\n        </div>\r\n        <button className={newRecipeStyles.button} type=\"submit\">\r\n          Create Recipe\r\n        </button>\r\n        <Link to=\"/home\">\r\n          <button className={newRecipeStyles.button}>Back To Home</button>\r\n        </Link>\r\n      </form>\r\n      {success ? (\r\n        <h2 className={newRecipeStyles.message}>Created Successfully</h2>\r\n      ) : null}\r\n      {Object.keys(errors).length > 0 ? (\r\n        <h2 className={newRecipeStyles.message}>Something went wrong!</h2>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}