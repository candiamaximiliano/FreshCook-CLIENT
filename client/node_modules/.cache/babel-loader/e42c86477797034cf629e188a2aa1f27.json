{"ast":null,"code":"import _slicedToArray from\"C:/Users/Maxim/Desktop/FreshCook-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import Card from\"../../components/Card/Card\";import FilterByAlphabet from\"../../components/Filters/FilterByAlphabet\";import FilterByDiet from\"../../components/Filters/FilterByDiet\";import FilterByCreated from\"../../components/Filters/FilterByCreated\";import FilterByScore from\"../../components/Filters/FilterByScore\";import Pagination from\"../../components/Pagination/Pagination\";import SearchBar from\"../../components/SearchBar/SearchBar\";// import Detail from \"../../pages/Detail/Detail\";\nimport{getAllRecipes}from\"../../redux/actions/recipes\";import Styles from\"./Home.module.css\";import reloadIcon from\"../../images/autorenew_white_24dp.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var dispatch=useDispatch();//Una vez montado el componente traigo todas las recetas:\nuseEffect(function(){dispatch(getAllRecipes());},[]);//Me traigo todo el estado recipes\nvar allRecipes=useSelector(function(state){return state.recipes.recipes;});//currentPage para que si cambio de página el home se vuelva a renderizar:\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];//order para que el home se vuelva a renderizar si se cambia el filtro o el orden:\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setOrder=_useState4[1];//Lógica para que la pagina sepa cuantas recetas mostrar por página:\nvar _useState5=useState(9),_useState6=_slicedToArray(_useState5,2),recipesPerPage=_useState6[0],setRecipesPerPage=_useState6[1];var indexOfLastRecipe=currentPage*recipesPerPage;var indexOfFirstRecipe=indexOfLastRecipe-recipesPerPage;var currentRecipes=allRecipes===null||allRecipes===void 0?void 0:allRecipes.slice(indexOfFirstRecipe,indexOfLastRecipe);var paginationNumber=function paginationNumber(pageNumber){setCurrentPage(pageNumber);};var handlerClick=function handlerClick(e){e.preventDefault();dispatch(getAllRecipes());};var helper=function helper(arr){var result=[];arr===null||arr===void 0?void 0:arr.map(function(el){return result.push(el.name);});return result;};return/*#__PURE__*/_jsxs(\"div\",{className:Styles.homeContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.navContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:Styles.newRecipeButtonContainer,children:/*#__PURE__*/_jsx(Link,{to:\"/recipe\",children:/*#__PURE__*/_jsx(\"p\",{className:Styles.newRecipeButton,children:\"Create Your Own Recipe!\"})})}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(\"button\",{className:Styles.reloadButton,onClick:function onClick(e){handlerClick(e);},children:/*#__PURE__*/_jsx(\"img\",{className:Styles.reloadIcon,src:reloadIcon,alt:\"reloadIcon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.filters,children:[/*#__PURE__*/_jsx(FilterByAlphabet,{setCurrentPage:setCurrentPage,setOrder:setOrder}),/*#__PURE__*/_jsx(FilterByDiet,{setCurrentPage:setCurrentPage,setOrder:setOrder}),/*#__PURE__*/_jsx(FilterByScore,{setCurrentPage:setCurrentPage,setOrder:setOrder}),/*#__PURE__*/_jsx(FilterByCreated,{setCurrentPage:setCurrentPage,setOrder:setOrder})]}),/*#__PURE__*/_jsx(Pagination,{recipesPerPage:recipesPerPage,allRecipes:allRecipes.length,paginationNumber:paginationNumber}),/*#__PURE__*/_jsx(\"div\",{className:Styles.cardsContainer,children:currentRecipes===null||currentRecipes===void 0?void 0:currentRecipes.map(function(recipe,index){if(recipe.createdInDb){return/*#__PURE__*/_jsx(\"div\",{className:Styles.cardRecipe,children:/*#__PURE__*/_jsx(Link,{to:\"/home/\"+recipe.id,children:/*#__PURE__*/_jsx(Card,{id:recipe.id,name:recipe.name,image:recipe.image,score:recipe.healthScore,diets:helper(recipe.diets)},recipe.id)},index)},index);}else{var _recipe$diets;return/*#__PURE__*/_jsx(\"div\",{className:Styles.cardRecipe,children:/*#__PURE__*/_jsx(Link,{to:\"/home/\"+recipe.id,children:/*#__PURE__*/_jsx(Card,{id:recipe.id,name:recipe.name,image:recipe.image,score:recipe.healthScore,diets:(_recipe$diets=recipe.diets)===null||_recipe$diets===void 0?void 0:_recipe$diets.map(function(diet){return diet;})},recipe.id)},index)},index);}})}),/*#__PURE__*/_jsx(Pagination,{recipesPerPage:recipesPerPage,allRecipes:allRecipes.length,paginationNumber:paginationNumber})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Link","Card","FilterByAlphabet","FilterByDiet","FilterByCreated","FilterByScore","Pagination","SearchBar","getAllRecipes","Styles","reloadIcon","Home","dispatch","allRecipes","state","recipes","currentPage","setCurrentPage","order","setOrder","recipesPerPage","setRecipesPerPage","indexOfLastRecipe","indexOfFirstRecipe","currentRecipes","slice","paginationNumber","pageNumber","handlerClick","e","preventDefault","helper","arr","result","map","el","push","name","homeContainer","navContainer","newRecipeButtonContainer","newRecipeButton","reloadButton","filters","length","cardsContainer","recipe","index","createdInDb","cardRecipe","id","image","healthScore","diets","diet"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/pages/Home/Home.component.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Card from \"../../components/Card/Card\";\r\nimport FilterByAlphabet from \"../../components/Filters/FilterByAlphabet\";\r\nimport FilterByDiet from \"../../components/Filters/FilterByDiet\";\r\nimport FilterByCreated from \"../../components/Filters/FilterByCreated\";\r\nimport FilterByScore from \"../../components/Filters/FilterByScore\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\n// import Detail from \"../../pages/Detail/Detail\";\r\nimport { getAllRecipes } from \"../../redux/actions/recipes\";\r\n\r\nimport Styles from \"./Home.module.css\";\r\nimport reloadIcon from \"../../images/autorenew_white_24dp.svg\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  //Una vez montado el componente traigo todas las recetas:\r\n  useEffect(() => {\r\n    dispatch(getAllRecipes());\r\n  }, []);\r\n\r\n  //Me traigo todo el estado recipes\r\n  const allRecipes = useSelector((state) => state.recipes.recipes);\r\n\r\n  //currentPage para que si cambio de página el home se vuelva a renderizar:\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  //order para que el home se vuelva a renderizar si se cambia el filtro o el orden:\r\n  const [order, setOrder] = useState(\"\");\r\n\r\n  //Lógica para que la pagina sepa cuantas recetas mostrar por página:\r\n  const [recipesPerPage, setRecipesPerPage] = useState(9);\r\n  const indexOfLastRecipe = currentPage * recipesPerPage;\r\n  const indexOfFirstRecipe = indexOfLastRecipe - recipesPerPage;\r\n  const currentRecipes = allRecipes?.slice(\r\n    indexOfFirstRecipe,\r\n    indexOfLastRecipe\r\n  );\r\n\r\n  const paginationNumber = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  const handlerClick = (e) => {\r\n    e.preventDefault();\r\n    dispatch(getAllRecipes());\r\n  };\r\n\r\n  const helper = (arr) => {\r\n    let result = [];\r\n    arr?.map((el) => {\r\n      return result.push(el.name);\r\n    });\r\n    return result;\r\n  };\r\n\r\n  return (\r\n    <div className={Styles.homeContainer}>\r\n      <div className={Styles.navContainer}>\r\n        <div className={Styles.newRecipeButtonContainer}>\r\n          <Link to=\"/recipe\">\r\n            <p className={Styles.newRecipeButton}>Create Your Own Recipe!</p>\r\n          </Link>\r\n        </div>\r\n        <SearchBar />\r\n        <button\r\n          className={Styles.reloadButton}\r\n          onClick={(e) => {\r\n            handlerClick(e);\r\n          }}\r\n        >\r\n          <img\r\n            className={Styles.reloadIcon}\r\n            src={reloadIcon}\r\n            alt=\"reloadIcon\"\r\n          />\r\n        </button>\r\n      </div>\r\n      <div className={Styles.filters}>\r\n        <FilterByAlphabet setCurrentPage={setCurrentPage} setOrder={setOrder} />\r\n        <FilterByDiet setCurrentPage={setCurrentPage} setOrder={setOrder} />\r\n        <FilterByScore setCurrentPage={setCurrentPage} setOrder={setOrder} />\r\n        <FilterByCreated setCurrentPage={setCurrentPage} setOrder={setOrder} />\r\n      </div>\r\n      <Pagination\r\n        recipesPerPage={recipesPerPage}\r\n        allRecipes={allRecipes.length}\r\n        paginationNumber={paginationNumber}\r\n      />\r\n      <div className={Styles.cardsContainer}>\r\n        {currentRecipes?.map((recipe, index) => {\r\n          if (recipe.createdInDb) {\r\n            return (\r\n              <div key={index} className={Styles.cardRecipe}>\r\n                <Link key={index} to={\"/home/\" + recipe.id}>\r\n                  <Card\r\n                    key={recipe.id}\r\n                    id={recipe.id}\r\n                    name={recipe.name}\r\n                    image={recipe.image}\r\n                    score={recipe.healthScore}\r\n                    diets={helper(recipe.diets)}\r\n                  />\r\n                </Link>\r\n              </div>\r\n            );\r\n          } else {\r\n            return (\r\n              <div key={index} className={Styles.cardRecipe}>\r\n                <Link key={index} to={\"/home/\" + recipe.id}>\r\n                  <Card\r\n                    key={recipe.id}\r\n                    id={recipe.id}\r\n                    name={recipe.name}\r\n                    image={recipe.image}\r\n                    score={recipe.healthScore}\r\n                    diets={recipe.diets?.map((diet) => {\r\n                      return diet;\r\n                    })}\r\n                  />\r\n                </Link>\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n      <Pagination\r\n        recipesPerPage={recipesPerPage}\r\n        allRecipes={allRecipes.length}\r\n        paginationNumber={paginationNumber}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}