{"ast":null,"code":"import React from\"react\";import{useSelector}from\"react-redux\";import{useLocation,Navigate,Outlet}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Protected=function Protected(_ref){var _auth$user$roles;var allowedRoles=_ref.allowedRoles;var auth=useSelector(function(state){return state.auth;});var location=useLocation();// const auth = JSON.parse(sessionStorage.getItem(\"user\"));\nreturn auth!==null&&auth!==void 0&&(_auth$user$roles=auth.user.roles)!==null&&_auth$user$roles!==void 0&&_auth$user$roles.find(function(role){return allowedRoles===null||allowedRoles===void 0?void 0:allowedRoles.includes(role);})?/*#__PURE__*/_jsx(Outlet,{}):auth?/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",state:{from:location},replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",state:{from:location},replace:true});};export default Protected;","map":{"version":3,"names":["React","useSelector","useLocation","Navigate","Outlet","Protected","allowedRoles","auth","state","location","user","roles","find","role","includes","from"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/Routes/Protected.jsx"],"sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\n\nconst Protected = ({ allowedRoles }) => {\n  const auth = useSelector((state) => state.auth);\n  const location = useLocation();\n  // const auth = JSON.parse(sessionStorage.getItem(\"user\"));\n\n  return auth?.user.roles?.find((role) => allowedRoles?.includes(role)) ? (\n    <Outlet />\n  ) : auth ? (\n    <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\n  ) : (\n    <Navigate to=\"/login\" state={{ from: location }} replace />\n  );\n};\n\nexport default Protected;\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,MAAhC,KAA8C,kBAA9C,C,2CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAsB,yBAAnBC,aAAmB,MAAnBA,YAAmB,CACtC,GAAMC,KAAI,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,MAAK,CAACD,IAAjB,EAAD,CAAxB,CACA,GAAME,SAAQ,CAAGP,WAAW,EAA5B,CACA;AAEA,MAAOK,KAAI,OAAJ,EAAAA,IAAI,SAAJ,oBAAAA,IAAI,CAAEG,IAAN,CAAWC,KAAX,sDAAkBC,IAAlB,CAAuB,SAACC,IAAD,QAAUP,aAAV,SAAUA,YAAV,iBAAUA,YAAY,CAAEQ,QAAd,CAAuBD,IAAvB,CAAV,EAAvB,eACL,KAAC,MAAD,IADK,CAEHN,IAAI,cACN,KAAC,QAAD,EAAU,EAAE,CAAC,eAAb,CAA6B,KAAK,CAAE,CAAEQ,IAAI,CAAEN,QAAR,CAApC,CAAwD,OAAO,KAA/D,EADM,cAGN,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,CAAsB,KAAK,CAAE,CAAEM,IAAI,CAAEN,QAAR,CAA7B,CAAiD,OAAO,KAAxD,EALF,CAOD,CAZD,CAcA,cAAeJ,UAAf"},"metadata":{},"sourceType":"module"}