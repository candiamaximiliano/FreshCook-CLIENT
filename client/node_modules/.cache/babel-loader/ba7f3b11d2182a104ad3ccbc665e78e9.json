{"ast":null,"code":"import _objectSpread from\"C:/Users/Maxim/Desktop/FreshCook-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import getTokenData from\"../../services/getTokenData\";import{REGISTER_SUCCESS,REGISTER_FAIL,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT,REFRESH_TOKEN}from\"../actions/types\";var clientSessionStorage=JSON.parse(sessionStorage.getItem(\"user\"));var user=getTokenData(clientSessionStorage===null||clientSessionStorage===void 0?void 0:clientSessionStorage.accessToken);var initialState=user?{isLoggedIn:true,user:user}:{isLoggedIn:false,user:null};export default function auth(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case REGISTER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:false});case REGISTER_FAIL:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:false});case LOGIN_SUCCESS:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:true,user:payload.user});case LOGIN_FAIL:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:false,user:null});case LOGOUT:return _objectSpread(_objectSpread({},state),{},{isLoggedIn:false,user:null});case REFRESH_TOKEN:return _objectSpread(_objectSpread({},state),{},{user:_objectSpread(_objectSpread({},user),{},{accessToken:payload})});default:return state;}}","map":{"version":3,"names":["getTokenData","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","REFRESH_TOKEN","clientSessionStorage","JSON","parse","sessionStorage","getItem","user","accessToken","initialState","isLoggedIn","auth","state","action","type","payload"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/redux/reducers/auth.js"],"sourcesContent":["import getTokenData from \"../../services/getTokenData\";\r\nimport {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  REFRESH_TOKEN,\r\n} from \"../actions/types\";\r\n\r\nconst clientSessionStorage = JSON.parse(sessionStorage.getItem(\"user\"));\r\nconst user = getTokenData(clientSessionStorage?.accessToken);\r\n\r\nconst initialState = user\r\n  ? { isLoggedIn: true, user }\r\n  : { isLoggedIn: false, user: null };\r\n\r\nexport default function auth(state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n      };\r\n\r\n    case REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n      };\r\n\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        user: payload.user,\r\n      };\r\n\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null,\r\n      };\r\n\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null,\r\n      };\r\n\r\n    case REFRESH_TOKEN:\r\n      return {\r\n        ...state,\r\n        user: { ...user, accessToken: payload },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"gIAAA,MAAOA,aAAP,KAAyB,6BAAzB,CACA,OACEC,gBADF,CAEEC,aAFF,CAGEC,aAHF,CAIEC,UAJF,CAKEC,MALF,CAMEC,aANF,KAOO,kBAPP,CASA,GAAMC,qBAAoB,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAA7B,CACA,GAAMC,KAAI,CAAGZ,YAAY,CAACO,oBAAD,SAACA,oBAAD,iBAACA,oBAAoB,CAAEM,WAAvB,CAAzB,CAEA,GAAMC,aAAY,CAAGF,IAAI,CACrB,CAAEG,UAAU,CAAE,IAAd,CAAoBH,IAAI,CAAJA,IAApB,CADqB,CAErB,CAAEG,UAAU,CAAE,KAAd,CAAqBH,IAAI,CAAE,IAA3B,CAFJ,CAIA,cAAe,SAASI,KAAT,EAA4C,IAA9BC,MAA8B,2DAAtBH,YAAsB,IAARI,OAAQ,2CACzD,GAAQC,KAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CAEA,OAAQD,IAAR,EACE,IAAKlB,iBAAL,CACE,sCACKgB,KADL,MAEEF,UAAU,CAAE,KAFd,GAKF,IAAKb,cAAL,CACE,sCACKe,KADL,MAEEF,UAAU,CAAE,KAFd,GAKF,IAAKZ,cAAL,CACE,sCACKc,KADL,MAEEF,UAAU,CAAE,IAFd,CAGEH,IAAI,CAAEQ,OAAO,CAACR,IAHhB,GAMF,IAAKR,WAAL,CACE,sCACKa,KADL,MAEEF,UAAU,CAAE,KAFd,CAGEH,IAAI,CAAE,IAHR,GAMF,IAAKP,OAAL,CACE,sCACKY,KADL,MAEEF,UAAU,CAAE,KAFd,CAGEH,IAAI,CAAE,IAHR,GAMF,IAAKN,cAAL,CACE,sCACKW,KADL,MAEEL,IAAI,gCAAOA,IAAP,MAAaC,WAAW,CAAEO,OAA1B,EAFN,GAKF,QACE,MAAOH,MAAP,CAzCJ,CA2CD"},"metadata":{},"sourceType":"module"}