{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maxim\\\\Desktop\\\\FreshCook-app\\\\client\\\\src\\\\pages\\\\CreateRecipe\\\\RecipeCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { postRecipe, getDiets } from \"../../redux/actions/recipes\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport newRecipeStyles from \"./RecipeCreate.module.css\";\nimport { validateName } from \"../../helpers/regex\";\nimport api from \"../../services/api\";\nimport veganBW from \"../../images/VeganBW.png\";\nimport veganColor from \"../../images/VeganColor.png\";\nimport vegetarianBW from \"../../images/VegetarianBW.png\";\nimport vegetarianColor from \"../../images/VegetarianColor.png\";\nimport glutenFreeBW from \"../../images/GlutenFreeBW.png\";\nimport glutenFreeColor from \"../../images/GlutenFreeColor.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function validate(input) {\n  let errors = {}; // input.name ? (errors.name = \"\") : (errors.name = \"You must name the recipe\");\n  // input.summary\n  //   ? (errors.summary = \"\")\n  //   : (errors.summary = \"You must provide a summary\");\n  // input.diets.length < 1\n  //   ? (errors.diets = \"Choose at least one diet\")\n  //   : (errors.diets = \"\");\n  // if (!input.image.includes(\"https://\") && !input.image.includes(\"http://\")) {\n  //   errors.image = \"This isn't a valid image address\";\n  // } else {\n  //   errors.image = \"\";\n  // }\n  // if (input.score < 1 || input.score > 100) {\n  //   errors.score = \"Number required. Must be a number between 1-100\";\n  // }\n  // if (input.healthScore < 1 || input.healthScore > 100) {\n  //   errors.healthScore = \"Number required. Must be a number between 1-100\";\n  // }\n\n  return errors;\n}\nexport default function RecipeCreate() {\n  _s();\n\n  var _input$stepByStep;\n\n  const dispatch = useDispatch();\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const diets = useSelector(state => state.recipes.diets);\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n  const [input, setInput] = useState({\n    name: \"\",\n    image: \"\",\n    summary: \"\",\n    healthScore: 0,\n    step: \"\",\n    stepByStep: [],\n    vegan: false,\n    vegetarian: false,\n    glutenFree: false,\n    diets: []\n  });\n\n  const handleChange = e => {\n    e.preventDefault();\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...input,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleCheck = e => {\n    if (e.target.checked) {\n      setInput({ ...input,\n        diets: [...input.diets, e.target.value]\n      });\n    } else {\n      const diets = input.diets.filter(diet => {\n        return diet !== e.target.value;\n      });\n      setInput({ ...input,\n        diets: diets\n      });\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (input.name && input.image && input.summary && input.healthScore && input.stepByStep && input.diets) {\n      dispatch(postRecipe(input));\n      setSuccess(true);\n      alert(\"Recipe created correctly\");\n      setErrors(\"\");\n      setInput({\n        name: \"\",\n        image: \"\",\n        summary: \"\",\n        healthScore: 0,\n        step: \"\",\n        stepByStep: [],\n        vegan: false,\n        vegetarian: false,\n        glutenFree: false,\n        diets: []\n      });\n    } else {\n      // alert(\"DATA REQUIRED\");\n      setSuccess(false);\n    }\n  };\n\n  useEffect(() => {\n    dispatch(getDiets());\n  }, [dispatch]); // Cargar imagen de tipo File\n\n  const [file, setFile] = useState();\n  const [format, setFormat] = useState(\"\");\n  const [uploadSuccess, setUploadSuccess] = useState(\"no image selected\");\n\n  const saveFile = e => {\n    var _e$target$files$;\n\n    setFile(e.target.files[0]);\n    var formatImage = (_e$target$files$ = e.target.files[0]) === null || _e$target$files$ === void 0 ? void 0 : _e$target$files$.name.split(\".\");\n    setFormat(formatImage[(formatImage === null || formatImage === void 0 ? void 0 : formatImage.length) - 1]);\n  };\n\n  const uploadUserFile = async e => {\n    const code = uuidv4();\n    saveFile(e); // console.log(code)\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"format\", format);\n\n    try {\n      await api.post(`upload/static/${code}.${format}`, formData);\n      setInput({ ...input,\n        image: code + \".\" + format\n      });\n      setUploadSuccess(formatImage);\n      alert(\"Imagen cargada con Exito\", \"\", \"success\");\n    } catch (ex) {\n      console.error(ex);\n    }\n  }; // const [addSteps, setAddSteps] = useState([1]);\n  // let i = 0;\n  // const addStep = () => {\n  //   i = i + 1;\n  //   setAddSteps([...addSteps, i]);\n  //   console.log(addSteps);\n  // };\n\n\n  const inputStep = useRef();\n  const [deleted, setDeleted] = useState({\n    wasDelete: false\n  });\n\n  const addStep = () => {\n    setInput({ ...input,\n      stepByStep: [...input.stepByStep, inputStep.current.defaultValue],\n      step: \"\"\n    });\n    deleted.wasDelete ? setDeleted({\n      wasDelete: false\n    }) : console.log(false);\n  };\n\n  const deleteStep = value => event => {\n    let stepLength = input.stepByStep.length;\n    let index = input.stepByStep.indexOf(value);\n    input.stepByStep.splice(index, 1);\n\n    if (stepLength > input.stepByStep.length) {\n      setDeleted({\n        wasDelete: true\n      });\n    }\n  };\n\n  const handleVegan = () => {\n    input.vegan ? setInput({ ...input,\n      vegan: false\n    }) : setInput({ ...input,\n      vegan: true\n    });\n  };\n\n  const handleVegetarian = () => {\n    input.vegetarian ? setInput({ ...input,\n      vegetarian: false\n    }) : setInput({ ...input,\n      vegetarian: true\n    });\n  };\n\n  const handleGlutenFree = () => {\n    input.glutenFree ? setInput({ ...input,\n      glutenFree: false\n    }) : setInput({ ...input,\n      glutenFree: true\n    });\n  };\n\n  const fileInput = useRef(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: newRecipeStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: newRecipeStyles.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: newRecipeStyles.title,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: currentUser.username.charAt(0).toUpperCase() + currentUser.username.slice(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), \" \", \"make your own recipe!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      className: newRecipeStyles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"text\",\n          value: input.name,\n          name: \"name\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Name\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputFileContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"inputTag\",\n          type: \"file\",\n          accept: \"image/x-png,image/jpeg\",\n          className: newRecipeStyles.inputFile,\n          name: \"image\",\n          multiple: false,\n          ref: fileInput,\n          placeholder: \"Image\",\n          onChange: e => {\n            uploadUserFile(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: newRecipeStyles.fileButton,\n          onClick: () => fileInput.current.click(),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-2x fa-camera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), \"Select image \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), \" \", uploadSuccess]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), errors.image && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: newRecipeStyles.input,\n          type: \"text-area\",\n          value: input.summary,\n          name: \"summary\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Write a summary\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), errors.summary && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Health Score:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: newRecipeStyles.input,\n          type: \"range\",\n          min: \"0\",\n          max: \"100\",\n          step: \"1\",\n          value: input.healthScore,\n          name: \"healthScore\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Health score\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: input.healthScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), errors.healthScore && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.healthScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Directions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputStep,\n          className: newRecipeStyles.input,\n          type: \"text\",\n          value: input.step,\n          name: \"step\",\n          onChange: e => {\n            handleChange(e);\n          },\n          placeholder: \"Write instruction\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addStep,\n          children: \"Add direction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          children: (_input$stepByStep = input.stepByStep) === null || _input$stepByStep === void 0 ? void 0 : _input$stepByStep.map((s, i) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: s\n              }, uuidv4(), false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: deleteStep(s),\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this)]\n            }, uuidv4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), errors.stepByStep && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.stepByStep\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Vegan:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVegan,\n          children: input.vegan ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: veganColor,\n            alt: \"vegan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: veganBW,\n            alt: \"vegan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Vegetarian:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVegetarian,\n          children: input.vegetarian ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: vegetarianColor,\n            alt: \"vegetarian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: vegetarianBW,\n            alt: \"vegetarian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Vegan:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleGlutenFree,\n          children: input.glutenFree ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: glutenFreeColor,\n            alt: \"glutenFree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: glutenFreeBW,\n            alt: \"glutenFree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Diets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: newRecipeStyles.checkboxContainer,\n        children: diets === null || diets === void 0 ? void 0 : diets.map(diet => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: newRecipeStyles.checkbox,\n            type: \"checkbox\",\n            name: diet.name,\n            value: diet.name,\n            onChange: e => {\n              handleCheck(e);\n            }\n          }, diet.id + \"diet\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), diet.name.charAt(0).toUpperCase() + diet.name.slice(1)]\n        }, diet.id + \"label\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: newRecipeStyles.button,\n        type: \"submit\",\n        children: \"Create Recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: newRecipeStyles.button,\n          children: \"Back To Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), success ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: newRecipeStyles.message,\n      children: \"Created Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }, this) : null, Object.keys(errors).length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: newRecipeStyles.message,\n      children: \"Something went wrong!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RecipeCreate, \"0L1JRCWnAKkoDxl/TCmF21EX6Mo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = RecipeCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"RecipeCreate\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","Link","postRecipe","getDiets","v4","uuidv4","newRecipeStyles","validateName","api","veganBW","veganColor","vegetarianBW","vegetarianColor","glutenFreeBW","glutenFreeColor","validate","input","errors","RecipeCreate","dispatch","user","currentUser","state","auth","diets","recipes","setErrors","success","setSuccess","setInput","name","image","summary","healthScore","step","stepByStep","vegan","vegetarian","glutenFree","handleChange","e","preventDefault","target","value","handleCheck","checked","filter","diet","handleSubmit","alert","file","setFile","format","setFormat","uploadSuccess","setUploadSuccess","saveFile","files","formatImage","split","length","uploadUserFile","code","formData","FormData","append","post","ex","console","error","inputStep","deleted","setDeleted","wasDelete","addStep","current","defaultValue","log","deleteStep","event","stepLength","index","indexOf","splice","handleVegan","handleVegetarian","handleGlutenFree","fileInput","container","header","title","username","charAt","toUpperCase","slice","form","inputContainer","inputFileContainer","inputFile","fileButton","click","map","s","i","checkboxContainer","checkbox","id","button","message","Object","keys"],"sources":["C:/Users/Maxim/Desktop/FreshCook-app/client/src/pages/CreateRecipe/RecipeCreate.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { postRecipe, getDiets } from \"../../redux/actions/recipes\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport newRecipeStyles from \"./RecipeCreate.module.css\";\r\nimport { validateName } from \"../../helpers/regex\";\r\nimport api from \"../../services/api\";\r\nimport veganBW from \"../../images/VeganBW.png\";\r\nimport veganColor from \"../../images/VeganColor.png\";\r\nimport vegetarianBW from \"../../images/VegetarianBW.png\";\r\nimport vegetarianColor from \"../../images/VegetarianColor.png\";\r\nimport glutenFreeBW from \"../../images/GlutenFreeBW.png\";\r\nimport glutenFreeColor from \"../../images/GlutenFreeColor.png\";\r\n\r\nexport function validate(input) {\r\n  let errors = {};\r\n\r\n  // input.name ? (errors.name = \"\") : (errors.name = \"You must name the recipe\");\r\n\r\n  // input.summary\r\n  //   ? (errors.summary = \"\")\r\n  //   : (errors.summary = \"You must provide a summary\");\r\n\r\n  // input.diets.length < 1\r\n  //   ? (errors.diets = \"Choose at least one diet\")\r\n  //   : (errors.diets = \"\");\r\n\r\n  // if (!input.image.includes(\"https://\") && !input.image.includes(\"http://\")) {\r\n  //   errors.image = \"This isn't a valid image address\";\r\n  // } else {\r\n  //   errors.image = \"\";\r\n  // }\r\n\r\n  // if (input.score < 1 || input.score > 100) {\r\n  //   errors.score = \"Number required. Must be a number between 1-100\";\r\n  // }\r\n  // if (input.healthScore < 1 || input.healthScore > 100) {\r\n  //   errors.healthScore = \"Number required. Must be a number between 1-100\";\r\n  // }\r\n\r\n  return errors;\r\n}\r\n\r\nexport default function RecipeCreate() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { user: currentUser } = useSelector((state) => state.auth);\r\n  const diets = useSelector((state) => state.recipes.diets);\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [success, setSuccess] = useState(false);\r\n  const [input, setInput] = useState({\r\n    name: \"\",\r\n    image: \"\",\r\n    summary: \"\",\r\n    healthScore: 0,\r\n    step: \"\",\r\n    stepByStep: [],\r\n    vegan: false,\r\n    vegetarian: false,\r\n    glutenFree: false,\r\n    diets: [],\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    setInput({\r\n      ...input,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    setErrors(\r\n      validate({\r\n        ...input,\r\n        [e.target.name]: e.target.value,\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleCheck = (e) => {\r\n    if (e.target.checked) {\r\n      setInput({\r\n        ...input,\r\n        diets: [...input.diets, e.target.value],\r\n      });\r\n    } else {\r\n      const diets = input.diets.filter((diet) => {\r\n        return diet !== e.target.value;\r\n      });\r\n      setInput({\r\n        ...input,\r\n        diets: diets,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      input.name &&\r\n      input.image &&\r\n      input.summary &&\r\n      input.healthScore &&\r\n      input.stepByStep &&\r\n      input.diets\r\n    ) {\r\n      dispatch(postRecipe(input));\r\n      setSuccess(true);\r\n      alert(\"Recipe created correctly\");\r\n      setErrors(\"\");\r\n      setInput({\r\n        name: \"\",\r\n        image: \"\",\r\n        summary: \"\",\r\n        healthScore: 0,\r\n        step: \"\",\r\n        stepByStep: [],\r\n        vegan: false,\r\n        vegetarian: false,\r\n        glutenFree: false,\r\n        diets: [],\r\n      });\r\n    } else {\r\n      // alert(\"DATA REQUIRED\");\r\n      setSuccess(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getDiets());\r\n  }, [dispatch]);\r\n\r\n  // Cargar imagen de tipo File\r\n  const [file, setFile] = useState();\r\n  const [format, setFormat] = useState(\"\");\r\n  const [uploadSuccess, setUploadSuccess] = useState(\"no image selected\");\r\n\r\n  const saveFile = (e) => {\r\n    setFile(e.target.files[0]);\r\n    var formatImage = e.target.files[0]?.name.split(\".\");\r\n    setFormat(formatImage[formatImage?.length - 1]);\r\n  };\r\n\r\n  const uploadUserFile = async (e) => {\r\n    const code = uuidv4();\r\n    saveFile(e);\r\n    // console.log(code)\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"format\", format);\r\n    try {\r\n      await api.post(`upload/static/${code}.${format}`, formData);\r\n      setInput({\r\n        ...input,\r\n        image: code + \".\" + format,\r\n      });\r\n      setUploadSuccess(formatImage);\r\n      alert(\"Imagen cargada con Exito\", \"\", \"success\");\r\n    } catch (ex) {\r\n      console.error(ex);\r\n    }\r\n  };\r\n\r\n  // const [addSteps, setAddSteps] = useState([1]);\r\n\r\n  // let i = 0;\r\n  // const addStep = () => {\r\n  //   i = i + 1;\r\n  //   setAddSteps([...addSteps, i]);\r\n  //   console.log(addSteps);\r\n  // };\r\n\r\n  const inputStep = useRef();\r\n\r\n  const [deleted, setDeleted] = useState({\r\n    wasDelete: false,\r\n  });\r\n\r\n  const addStep = () => {\r\n    setInput({\r\n      ...input,\r\n      stepByStep: [...input.stepByStep, inputStep.current.defaultValue],\r\n      step: \"\",\r\n    });\r\n    deleted.wasDelete\r\n      ? setDeleted({\r\n          wasDelete: false,\r\n        })\r\n      : console.log(false);\r\n  };\r\n\r\n  const deleteStep = (value) => (event) => {\r\n    let stepLength = input.stepByStep.length;\r\n    let index = input.stepByStep.indexOf(value);\r\n    input.stepByStep.splice(index, 1);\r\n    if (stepLength > input.stepByStep.length) {\r\n      setDeleted({\r\n        wasDelete: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleVegan = () => {\r\n    input.vegan\r\n      ? setInput({\r\n          ...input,\r\n          vegan: false,\r\n        })\r\n      : setInput({\r\n          ...input,\r\n          vegan: true,\r\n        });\r\n  };\r\n  const handleVegetarian = () => {\r\n    input.vegetarian\r\n      ? setInput({\r\n          ...input,\r\n          vegetarian: false,\r\n        })\r\n      : setInput({\r\n          ...input,\r\n          vegetarian: true,\r\n        });\r\n  };\r\n  const handleGlutenFree = () => {\r\n    input.glutenFree\r\n      ? setInput({\r\n          ...input,\r\n          glutenFree: false,\r\n        })\r\n      : setInput({\r\n          ...input,\r\n          glutenFree: true,\r\n        });\r\n  };\r\n\r\n  const fileInput = useRef(null);\r\n\r\n  return (\r\n    <div className={newRecipeStyles.container}>\r\n      <header className={newRecipeStyles.header}>\r\n        <h1 className={newRecipeStyles.title}>\r\n          <strong>\r\n            {currentUser.username.charAt(0).toUpperCase() +\r\n              currentUser.username.slice(1)}\r\n          </strong>{\" \"}\r\n          make your own recipe!\r\n        </h1>\r\n      </header>\r\n      <form\r\n        onSubmit={(e) => {\r\n          handleSubmit(e);\r\n        }}\r\n        className={newRecipeStyles.form}\r\n      >\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"text\"\r\n            value={input.name}\r\n            name=\"name\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Name\"\r\n            autoComplete=\"off\"\r\n          />\r\n          {errors.name && <p>{errors.name}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputFileContainer}>\r\n          <input\r\n            id=\"inputTag\"\r\n            type=\"file\"\r\n            accept=\"image/x-png,image/jpeg\"\r\n            className={newRecipeStyles.inputFile}\r\n            name=\"image\"\r\n            multiple={false}\r\n            ref={fileInput}\r\n            placeholder=\"Image\"\r\n            onChange={(e) => {\r\n              uploadUserFile(e);\r\n            }}\r\n          />{\" \"}\r\n          <button\r\n            className={newRecipeStyles.fileButton}\r\n            onClick={() => fileInput.current.click()}\r\n          >\r\n            <i class=\"fa fa-2x fa-camera\"></i> <br />\r\n            <br />\r\n            Select image <br />\r\n            <br /> {uploadSuccess}\r\n          </button>\r\n          {errors.image && <p>{errors.image}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <textarea\r\n            className={newRecipeStyles.input}\r\n            type=\"text-area\"\r\n            value={input.summary}\r\n            name=\"summary\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Write a summary\"\r\n            autoComplete=\"off\"\r\n          />\r\n          {errors.summary && <p>{errors.summary}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <label>Health Score:</label>\r\n          <input\r\n            className={newRecipeStyles.input}\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            step=\"1\"\r\n            value={input.healthScore}\r\n            name=\"healthScore\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Health score\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <span>{input.healthScore}</span>\r\n          {errors.healthScore && <p>{errors.healthScore}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <h3>Directions:</h3>\r\n          <input\r\n            ref={inputStep}\r\n            className={newRecipeStyles.input}\r\n            type=\"text\"\r\n            value={input.step}\r\n            name=\"step\"\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            placeholder=\"Write instruction\"\r\n            autoComplete=\"off\"\r\n          />{\" \"}\r\n          <button onClick={addStep}>Add direction</button>\r\n          <ol>\r\n            {input.stepByStep?.map((s, i) => {\r\n              return (\r\n                <div key={uuidv4()}>\r\n                  <li key={uuidv4()}>{s}</li>\r\n                  <button onClick={deleteStep(s)}>x</button>\r\n                </div>\r\n              );\r\n            })}\r\n          </ol>\r\n          {errors.stepByStep && <p>{errors.stepByStep}</p>}\r\n        </div>\r\n        <div className={newRecipeStyles.inputContainer}>\r\n          <label>Vegan:</label>\r\n          <button onClick={handleVegan}>\r\n            {input.vegan ? (\r\n              <img src={veganColor} alt=\"vegan\" />\r\n            ) : (\r\n              <img src={veganBW} alt=\"vegan\" />\r\n            )}\r\n          </button>\r\n          <label>Vegetarian:</label>\r\n          <button onClick={handleVegetarian}>\r\n            {input.vegetarian ? (\r\n              <img src={vegetarianColor} alt=\"vegetarian\" />\r\n            ) : (\r\n              <img src={vegetarianBW} alt=\"vegetarian\" />\r\n            )}\r\n          </button>\r\n          <label>Vegan:</label>\r\n          <button onClick={handleGlutenFree}>\r\n            {input.glutenFree ? (\r\n              <img src={glutenFreeColor} alt=\"glutenFree\" />\r\n            ) : (\r\n              <img src={glutenFreeBW} alt=\"glutenFree\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n        <label>Diets</label>\r\n        <div className={newRecipeStyles.checkboxContainer}>\r\n          {diets?.map((diet) => (\r\n            <label key={diet.id + \"label\"}>\r\n              <input\r\n                className={newRecipeStyles.checkbox}\r\n                type=\"checkbox\"\r\n                name={diet.name}\r\n                value={diet.name}\r\n                key={diet.id + \"diet\"}\r\n                onChange={(e) => {\r\n                  handleCheck(e);\r\n                }}\r\n              />\r\n              {diet.name.charAt(0).toUpperCase() + diet.name.slice(1)}\r\n            </label>\r\n          ))}\r\n        </div>\r\n        <button className={newRecipeStyles.button} type=\"submit\">\r\n          Create Recipe\r\n        </button>\r\n        <Link to=\"/home\">\r\n          <button className={newRecipeStyles.button}>Back To Home</button>\r\n        </Link>\r\n      </form>\r\n      {success ? (\r\n        <h2 className={newRecipeStyles.message}>Created Successfully</h2>\r\n      ) : null}\r\n      {Object.keys(errors).length > 0 ? (\r\n        <h2 className={newRecipeStyles.message}>Something went wrong!</h2>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}